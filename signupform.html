<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up Form</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- jQuery library -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
    <!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function add_record() {
            // Prevent default form submission
            event.preventDefault();

            // Collect form data
                first_name= $("#first-name").val(),
                last_name= $("#last-name").val(),
                dob= $("#dob").val(),
                email= $("#email").val(),
                password= $("#password").val(),
                gender= $("input[name='gender']:checked").val(),
                city= $("#city").val(),
                address= $("#address").val()
            

            // Log formData for debugging
            // console.log("Form Data:", formData);

            // AJAX request
            $.ajax({
                url: "clsProcess.php", // URL to send data to
                type: "POST", // HTTP method
                data: {
                    first_name : first_name,
				         last_name: last_name,
				          password: password,
                          email:email,
				          gender: gender,
                          dob:    dob,
                          city:     city,
                          address:  address,
				          action: "AddUser"
                }, // Data to be sent
                success: function(responseText) {
                    console.log("Success:", responseText); // Debugging
                    alert("Success: " + responseText);
                    window.location.href = "signin.html"; // Redirect on success
                },
                error: function(xhr, statusText, error) {
                    console.error("Error:", error); // Debugging
                    alert("Error: " + error);
                }
            });

            return false; // Ensure the form does not submit traditionally
        }
    </script>

</head>
<body>
    <header class="header">
        <div class="logo"></div>
  
  <nav class="navbar" 
  style="align-content: center;
  font-size: 22px;
  margin-bottom: 0;">
  <a href="index.html">Home</a> &emsp; | &emsp; 
     <a href="profile_card.html">Profile</a> &emsp; | &emsp; 
     <a href="feedbackform.html">Contact</a> &emsp; | &emsp;
     <a href="signupform.html"> Create an account</a>&emsp; 
  </nav>
     </header>
     <div class="main-content">
    <div class="containerdiv">
        <h2>Sign up for free</h2>
        <form onsubmit="return add_record();" class="signup-form">
            <div class="form-group">
                <label for="first-name">First Name:</label>
                <input type="text" id="first-name" name="first-name" required>
            </div>
            <div class="form-group">
                <label for="last-name">Last Name:</label>
                <input type="text" id="last-name" name="last-name" required>
            </div>
            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" name="dob" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div class="form-group">
                <label>Gender:</label>
                <div class="radio-group">
                    <label><input type="radio" name="gender" id="male" value="male" > Male</label> <br>
                    <label><input type="radio" name="gender" id="female"  value="female"> Female</label><br>
                    <label><input type="radio" name="gender" id="other"  value="other"> Other</label>
                </div>
            </div>
            <div class="form-group">
                <label for="city">City:</label>
                <select id="city" name="city" required>
                    <option value="" disabled selected>Select your city</option>
                    <option value="new-york">New York</option>
                    <option value="los-angeles">Los Angeles</option>
                    <option value="chicago">Chicago</option>
                    <option value="houston">Houston</option>
                </select>
            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <textarea id="address" name="address" rows="2" required></textarea>
            </div>
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <button type="submit" class="btn-submit">Sign Up</button> 
                <h5>Already have an account? <a href="signin.html">Sign in</a></h5></div>
            
        </form>
    </div>
    </div>
    <footer class="footer">
        <h6>All copyrights reserved to Navtacc</h6>
       </footer>
       <!-- <script src="js/process.js" type="text/javascript" ></script> -->
       <!-- <script>
        	function ajax_error(XMLHttpRequest)
            {
                alert("Ajax Request Failed Status: "+XMLHttpRequest.status+ " Status Text: "+XMLHttpRequest.statusText);

                alert(XMLHttpRequest.responseText);
            }
        function add_record()
    {
    	var first_name 	= document.getElementById('first-name').value;			
		var last_name 	= document.getElementById('last-name').value;
		var email 		= document.getElementById('email').value;
		var password 	= document.getElementById('password').value;
        var gender      = document.querySelector("input[type='radio'][name=gender]:checked").value;

		var male 		= document.getElementById('male').checked;
		var female 		= document.getElementById('female').checked;
		var birth		= document.getElementById('dob').value;
		var town		= document.getElementById('city').value;
		var address     = document.getElementById('address').value;
				

					   $.ajax({
				        url: "clsProcess.php",
				        type: "POST",
				        data: {
				         first_name : first_name,
				         last_name: last_name,
				          password: password,
				          gender: gender,
                          birth:    birth,
                          town:     town,
                          address:  address,
				          action: "AddUser"
				      },
				       success: function(ResponseText, statusText, XMLHttpRequest){
                        alert(ResponseText);
				       		// window.location.href = "signin.html";

       						},
                            error:alert("error")
       						// error:ajax_error
				    }); 
    }
        </script>  -->
</body>
</html>
